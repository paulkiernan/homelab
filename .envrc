#shellcheck disable=SC2148,SC2155
# Cross-platform: Force macOS to use XDG standard locations like Linux
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
# Kubeconfig (fetched on-demand from Talos via: task talos:fetch-kubeconfig)
export KUBECONFIG="$(expand_path ./kubeconfig)"
# SOPS will use the default location: $XDG_CONFIG_HOME/sops/age/keys.txt (~/.config/sops/age/keys.txt)
# Wrap kubectl with kubecolor for better readability
kubectl() {
  kubecolor "$@"
}
export -f kubectl
# Venv
PATH_add "$(expand_path ./.venv/bin)"
export VIRTUAL_ENV="$(expand_path ./.venv)"
export PYTHONDONTWRITEBYTECODE="1"
# Talos
export TALOSCONFIG="$(expand_path ./kubernetes/bootstrap/talos/clusterconfig/talosconfig)"
# Bin
PATH_add "$(expand_path ./.bin)"
